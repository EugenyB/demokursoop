<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Interpol</title>
    <link rel="stylesheet" th:href="@{/webjars/bootstrap/5.3.5/dist/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/webjars/bootstrap-icons/1.11.3/font/bootstrap-icons.css}">
</head>
<body>
<header th:insert="fragments/general.html :: header"></header>
    <h1>Bandits</h1>
    <a class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#add_bandit" data-bs-ident="#add"
       th:attr="data-bs-link=@{/add}">
        <i class="bi bi-plus"></i> Add Bandit</a>

    <table class="table table-striped table-hover table-sm">
        <thead class="table-info">
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Nick</th>
            <th>Birthday</th>
            <th>Gang</th>
            <th>Crime</th>
            <th>Crime Count</th>
            <th>Show</th>
            <th><i class="bi bi-pencil"></i></th>
            <th><i class="bi bi-trash"></i></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="b : ${bandits}">
            <td th:text="${b.id}"></td>
            <td th:text="${b.name}"></td>
            <td th:text="${b.nickName}"></td>
            <td th:text="${b.birthday}"></td>
            <td th:text="${b.gang}"></td>
            <td th:text="${b.crimeType}"></td>
            <td th:text="${b.crimeCount}"></td>
            <td>
                <a class="btn btn-sm btn-info" th:href="@{/show(id=${b.id})}" ><i class="bi bi-person"></i></a>
            </td>
            <td>
                <a class="btn btn-sm btn-warning" data-bs-toggle="modal" data-bs-target="#add_bandit"
                   data-bs-ident="#edit"
                   th:attr="
            data-bs-link=@{/edit},
            data-bs-id=${b.id},
            data-bs-name=${b.name},
            data-bs-nickname=${b.nickName},
            data-bs-birthday=${b.birthday},
            data-bs-gang=${b.gang},
            data-bs-crimetype=${b.crimeType},
            data-bs-crimecount=${b.crimeCount}">
                    <i class="bi bi-pencil"></i></a>
            </td>
            <td>
                <a class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#myconfirm"
                   th:attr="data-bs-link=@{/delete(id=${b.id})}, data-bs-text = ${b.name} + ' aka ' + ${b.nickName}, data-bs-id = ${b.id}"
                ><i class="bi bi-trash"></i></a>
            </td>
        </tr>
        </tbody>
    </table>

    <div th:replace="fragments/general.html :: confirm"> </div>
    <div th:replace="fragments/general.html :: edit"> </div>

    <script src="/js/bandits.js"></script>
    <script src="/js/confirm.js"></script>

    <script th:src="@{/webjars/bootstrap/5.3.5/dist/js/bootstrap.min.js}"></script>
</body>
</html>